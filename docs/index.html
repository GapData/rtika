<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>R Interface to 'Apache Tika'  • rtika</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><meta property="og:title" content="R Interface to 'Apache Tika' ">
<meta property="og:description" content="Extract text or metadata from over a thousand file types. Get either plain text or structured XHTML. ">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">rtika</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/rtika_introduction.html">Introduction to rtika</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="http://github.com/predict-r/rtika">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<div id="rtika" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#rtika" class="anchor"></a>rtika</h1></div>
<p><strong><em>Extract text or metadata from over a thousand file types.</em></strong></p>
<p><a href="https://travis-ci.org/predict-r/rtika"><img src="https://travis-ci.org/predict-r/rtika.svg?branch=master" alt="Travis-CI Build Status"></a> <a href="https://codecov.io/github/predict-r/rtika?branch=master"><img src="https://codecov.io/gh/predict-r/rtika/branch/master/graph/badge.svg" alt="Coverage status"></a></p>
<blockquote>
<p>Apache Tika is a content detection and analysis framework, written in Java, stewarded at the Apache Software Foundation. It detects and extracts metadata and text from over a thousand different file types, and as well as providing a Java library, has server and command-line editions suitable for use from other programming languages …</p>
</blockquote>
<blockquote>
<p>For most of the more common and popular formats, Tika then provides content extraction, metadata extraction and language identification capabilities. (From <a href="https://en.wikipedia.org/wiki/Apache_Tika" class="uri">https://en.wikipedia.org/wiki/Apache_Tika</a>, accessed Jan 18, 2018)</p>
</blockquote>
<p>This is an R interface to the Tika software.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>To start, you need R and either <code>OpenJDK 1.7</code> or <code>Java 7</code>. Higher versions work. To check your version, run the command <code>java -version</code> from a terminal. Get Java installation tips at <a href="http://openjdk.java.net/install/" class="uri">http://openjdk.java.net/install/</a> or <a href="https://www.java.com/en/download/help/download_options.xml" class="uri">https://www.java.com/en/download/help/download_options.xml</a>.</p>
<p>Next, install the <code>rtika</code> package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># We also need devtools to easily install from github, until this is all on CRAN </span>
<span class="cf">if</span>(<span class="op">!</span><span class="kw">requireNamespace</span>(<span class="st">'devtools'</span>)){
  <span class="kw">install.packages</span>(<span class="st">'devtools'</span>, 
    <span class="dt">repos=</span><span class="st">'https://cloud.r-project.org'</span>)
}

<span class="cf">if</span>(<span class="op">!</span><span class="kw">requireNamespace</span>(<span class="st">'rtika'</span>)){
  devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">'predict-r/rtika'</span>)
}

<span class="kw">library</span>(<span class="st">'rtika'</span>)  </code></pre></div>
<p>The <code>rJava</code> package is <strong>not</strong> required.</p>
<p>Read an introductory article at <a href="https://predict-r.github.io/rtika/articles/rtika_introduction.html" class="uri">https://predict-r.github.io/rtika/articles/rtika_introduction.html</a>.</p>
</div>
<div id="key-features" class="section level2">
<h2 class="hasAnchor">
<a href="#key-features" class="anchor"></a>Key Features</h2>
<ul>
<li>
<code><a href="reference/tika_text.html">tika_text()</a></code> to extract plain text.</li>
<li>
<code><a href="reference/tika_xml.html">tika_xml()</a></code> and <code><a href="reference/tika_html.html">tika_html()</a></code> to extract an XHMTL rendition.</li>
<li>
<code><a href="reference/tika_json.html">tika_json()</a></code> to get metadata and examine complex documents.</li>
<li>
<code><a href="reference/tika.html">tika()</a></code> to extract plain text or the other types. This is the main function the others above inherit from.</li>
<li>
<code><a href="reference/tika_fetch.html">tika_fetch()</a></code> to download files with a file extension matching the Content-Type.</li>
</ul>
</div>
<div id="supported-file-types" class="section level2">
<h2 class="hasAnchor">
<a href="#supported-file-types" class="anchor"></a>Supported File Types</h2>
<p>Tika parses and extracts text or metadata from over one thousand digital formats, including:</p>
<ul>
<li>Portable Document Format (<code>.pdf</code>)</li>
<li>Microsoft Office document formats (Word, PowerPoint, Excel, etc.)</li>
<li>Rich Text Format (<code>.rtf</code>)</li>
<li>Electronic Publication Format (<code>.epub</code>)</li>
<li>Image formats (<code>.jpeg</code>, <code>.png</code>, etc.)</li>
<li>Mail formats (<code>.mbox</code>, Outlook)</li>
<li>HyperText Markup Language (<code>.html</code>)</li>
<li>XML and derived formats (<code>.xml</code>, etc.)</li>
<li>Compression and packaging formats (<code>.gzip</code>, <code>.rar</code>, etc.)</li>
<li>OpenDocument Format</li>
<li>iWorks document formats</li>
<li>WordPerfect document formats</li>
<li>Text formats</li>
<li>Feed and Syndication formats</li>
<li>Help formats</li>
<li>Audio formats</li>
<li>Video formats</li>
<li>Java class files and archives</li>
<li>Source code</li>
<li>CAD formats</li>
<li>Font formats</li>
<li>Scientific formats</li>
<li>Executable programs and libraries</li>
<li>Crypto formats</li>
</ul>
<p>For a list of MIME types, see: <a href="https://tika.apache.org/1.17/formats.html" class="uri">https://tika.apache.org/1.17/formats.html</a></p>
</div>
<div id="simple-example" class="section level2">
<h2 class="hasAnchor">
<a href="#simple-example" class="anchor"></a>Simple Example</h2>
<p><strong>The <code>rtika</code> package processes batches of documents efficiently</strong>, so I recommend batches. Currently, all the <code><a href="reference/tika.html">tika()</a></code> functions take a tiny bit of time to spin up, and that will get annoying with hundreds of separate calls the functions.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">'magrittr'</span>)

<span class="co"># Local files or remote urls. Here, remote urls.</span>
batch &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">'https://cran.r-project.org/doc/manuals/r-release/R-data.pdf'</span>,
           <span class="st">'https://cran.r-project.org/doc/manuals/r-release/R-lang.html'</span>)

<span class="co"># A short data pipleine, shown with magrittr.</span>
<span class="co"># Normal syntax also works, e.g. text &lt;- tika_text(batch)</span>
text &lt;-<span class="st">  </span>
<span class="st">  </span>batch <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="reference/tika_text.html">tika_text</a></span>() 


<span class="co"># Look at the structure returned. </span>
<span class="co"># It's a character vector. </span>
<span class="co"># There is one string for each document.</span>
utils<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/utils/topics/str">str</a></span>(text)
<span class="co">#&gt;  chr [1:2] "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nR Data Import/Export\"| __truncated__ ...</span>

<span class="co"># Look at a snippet:</span>
<span class="kw">cat</span>(<span class="kw">substr</span>(text[<span class="dv">1</span>], <span class="dv">45</span>, <span class="dv">160</span>)) 
<span class="co">#&gt; </span>
<span class="co">#&gt; R Data Import/Export</span>
<span class="co">#&gt; Version 3.4.3 (2017-11-30)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; R Core Team</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; This manual is for R, version 3.4.3 (2017-11-30).</span></code></pre></div>
<p>Read an introductory article at <a href="https://predict-r.github.io/rtika/articles/rtika_introduction.html" class="uri">https://predict-r.github.io/rtika/articles/rtika_introduction.html</a>.</p>
</div>
<div id="similar-packages" class="section level2">
<h2 class="hasAnchor">
<a href="#similar-packages" class="anchor"></a>Similar Packages</h2>
<p>There is some overlap with many other text parsers, such as the R interface to antiword (See: <a href="https://github.com/ropensci/antiword" class="uri">https://github.com/ropensci/antiword</a>). Listing all of them would take a huge amount of space, since Apache Tika processes over a thousand file types (See: <a href="https://tika.apache.org/" class="uri">https://tika.apache.org/</a>). The main difference is that instead of specializing on a single format, Tika integrates dozens of specialist libraries from the Apache Foundation. Tika’s unified approach offers a bit less control, and in return eases the parsing of digital archives filled with possibly unpredictable file types.</p>
<p>In September 2017, github.com user <em>kyusque</em> released <code>tikaR</code>, which uses the <code>rJava</code> package to interact with Tika (See: <a href="https://github.com/kyusque/tikaR" class="uri">https://github.com/kyusque/tikaR</a>). As of writing, it provided similar text and metadata extraction, but only <code>xml</code> output.</p>
<p>Back in March 2012, I started a similar project to interface with Apache Tika. My code also used low-level functions from the <code>rJava</code> package. I halted development after discovering that the Tika command line interface (CLI) was easier to use. My empty repository is at <a href="https://r-forge.r-project.org/projects/r-tika/" class="uri">https://r-forge.r-project.org/projects/r-tika/</a>.</p>
<p>I chose to finally develop this package after getting excited by Tika’s new ‘batch processor’ module, written in Java. The batch processor has very good efficiency when processing tens of thousands of documents. Further, it is not too slow for a single document either, and handles errors gracefully. Connecting <code>R</code> to the Tika batch processor turned out to be relatively simple, because the <code>R</code> code is simple. It uses the CLI to point Tika to the files. Simplicity, along with continuous testing, should ease integration. I anticipate that some researchers will need plain text output, while others will want <code>json</code> output. Some will want multiple processing threads to speed things up. These features are now implemented in <code>rtika</code>, although apparently not in <code>tikaR</code> yet.</p>
</div>
<div id="code-of-conduct" class="section level2">
<h2 class="hasAnchor">
<a href="#code-of-conduct" class="anchor"></a>Code of Conduct</h2>
<p>Please note that this project is released with a <a href="https://github.com/predict-r/rtika/blob/master/CONDUCT.md">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2 class="hasAnchor">
<a href="#sidebar" class="anchor"></a>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="http://github.com/predict-r/rtika">http://​github.com/​predict-r/​rtika</a>
</li>
<li>Report a bug at <br><a href="http://github.com/predict-r/rtika/issues">http://​github.com/​predict-r/​rtika/​issues</a>
</li>
</ul>
<h2>License</h2>
<p>Apache License 2.0 | file <a href="LICENSE.html">LICENSE</a></p>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Sasha Goodman <br><small class="roles"> Author, maintainer </small>  </li>
<li>The Apache Software Foundation <br><small class="roles"> Author, copyright holder </small>  </li>
</ul>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Sasha Goodman, The Apache Software Foundation.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
